<!DOCTYPE html>
<html lang="en">
<head>
    <script src="http://code.jquery.com/jquery-3.5.1.min.js"></script>
        <meta charset="UTF-8">
    <title>Shorten-URL</title>
</head>
<body>
<script>
        $(function(){
            console.log("hello");
            $('#create').on("click", function () {
                let param = $('input[name=url]').val();
                $.ajax({
                    type: 'post',//데이터 전송 타입
                    url: '/url',//데이터를 주고받을 파일 주소 입력
                    contentType: 'application/json;charset=utf-8',
                    data: param,
                    dataType: 'text',
                    success: function (result) {
                        $('input[name=url]').attr('value',result);
                    },
                    error: function (error, status, msg) {
                        console.log(error + " " + status + " " + msg);
                    }
                });
            });

            $('#search').on("click", function () {
                let param = $('input[name=destination]').val();
                $.ajax({
                    type: 'get',//데이터 전송 타입
                    url: '/url',//데이터를 주고받을 파일 주소 입력
                    contentType: 'application/json;charset=utf-8',
                    data: param,
                    dataType: 'text',
                    success: function (result) {
                        $('input[name=destination]').attr('value',result);
                    },
                    error: function (error, status, msg) {
                        console.log(error + " " + status + " " + msg);
                    }
                });
            });
        });
</script>

<h3>단축URL생성하기</h3>
<input type="text" name="url" size="url" value="">
    <button type="button" id="create">create</button><br>

<h3>단축URL원본찾기</h3>
<form id = "search-form">
<input type="text" name="destination" size="url">
    <button type="button" id="search">search</button><br>
</form>
</body>
</html>